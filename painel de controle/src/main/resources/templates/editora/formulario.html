<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="index.html :: head">
    <meta charset="UTF-8">
    <title>Formulário de Editora</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>

<div class="container">
    <a type="button" class="btn btn-outline-primary" th:href="@{/}">Home</a>
    <a type="button" class="btn btn-outline-primary" th:href="@{/editora/lista}">Voltar</a>
    <h1><span th:text="${boasVindas}"></span></h1>

    <form>
        <div class="mb-3">
            <input name="id" th:value="${editora.id}" type="text" hidden="true">

            <label class="form-label">Nome</label>
            <input name="nome" th:value="${editora.nome}" type="text" class="form-control" required>

            <label class="form-label">Endereço</label>
            <input name="endereco" th:value="${editora.endereco}" type="text" class="form-control" required>

            <label class="form-label">Cidade</label>
            <input name="cidade" th:value="${editora.cidade}" type="text" class="form-control" required>

            <label class="form-label">UF</label>
            <input name="uf" th:value="${editora.uf}" type="text" class="form-control" required>

            <label class="form-label">Telefone</label>
            <input name="telefone" th:value="${editora.telefone}" type="text" class="form-control" maxlength="11" required>

        </div>

        <button th:formaction="@{/editora/cadastrar}" formmethod="post" type="submit" class="btn btn-dark">Salvar</button>

    </form>
</div>
<div th:if="${errors}" class="d-none">
    <ul id="listaErros">
        <li th:each='error : ${errors}' th:text='${error.defaultMessage}'></li>
    </ul>
    <script>
        const errorHtml = document.querySelector('#listaErros');
       Swal.fire({
               title: 'Error ao cadastrar',
                icon: 'error',
                html: errorHtml.innerHTML
        })
    </script>
</div>

</form>
</body>
</html>
